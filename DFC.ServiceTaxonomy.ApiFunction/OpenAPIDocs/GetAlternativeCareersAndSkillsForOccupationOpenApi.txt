openapi: 3.0.1
info:
  title: Occupation Open Api Specification
  description: 'Sample Description for Query'
  version: 1.0.0
servers:
- url: __FunctionAppUrl__
tags:
- name: Get Alternative Careers And Skills For Given Occupation
  description: Returns all skills
paths:
  /GetAlternativeCareersAndSkillsForOccupation/:
    post:
      tags:
      - Skill
      summary: Find Alternative Careers And Skills For Given Occupation.
      description: Returns Alternative Careers And Skills For Given Occupation
      operationId: GetAlternativeCareersAndSkillsForOccupation
      requestBody:
        description: enter esco occupation uri to retrieve all Alternative Careers and Skills for the Occupation
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Occupation'
            example:   # Sample object
                "occupation": "http://data.europa.eu/esco/occupation/114e1eff-215e-47df-8e10-45a5b72f8197"
        required: true
      responses:
        200:
          description: successful operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Occupation'
        400:
          description: Invalid ID supplied
          content: {}
        404:
          description: Occupation not found
          content: {}
      security:
      - api_key: []
components:
  schemas:
    Occupation:
      required:
      - uri
      type: "object"
      properties: 
        uri: 
          type: string
          example: "http://data.europa.eu/esco/occupation/114e1eff-215e-47df-8e10-45a5b72f8197"
        occupation: 
          type: string
          example: renewable energy consultant
        alternativeLabels: 
          type: array
          items: 
            type: string
            example: alt 1
        lastmodified: 
          type: string
          example: 30/10/2019
        totalEssentialSkills: 
          type: integer
          example: 10
        totalOptionalSkills: 
          type: integer
          example: 20
        occupations: 
          type: array
          items: 
            type: object
            properties: 
              uri: 
                type: string
                example: "http://data.europa.eu/esco/occupation/68698869-c13c-4563-adc7-118b7644f45d"
              occupation: 
                type: string
                example: renewable energy consultant 
              totalEssentialSkills: 
                type: integer
                example: 5
              totalOptionalSkills: 
                type: integer
                example: 10
              matchingEssentialSkills: 
                type: integer
                example: 4
              matchingOptionalSkills: 
                type: integer
                example: 8
              lastmodified: 
                  type: string
                  example: 30/10/2019
            xml:
              name: Occupation
  securitySchemes:
    apikeyQuery:
      type: apiKey
      name: code
      in: query