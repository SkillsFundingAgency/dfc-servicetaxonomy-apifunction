openapi: 3.0.1
info:
  title: Service Taxonomy Get Occupations For Given Skill
  description: 'Sample Description for Query'
  version: 1.0.0
servers:
- url: __FunctionAppUrl__
tags:
- name: Get Occupations For Given Skill
  description: Returns all occupation for a given skill
paths:
  /Execute/:
    post:
      tags:
      - Skill
      summary: Get occupations for a given skill.
      description: Returns occupation for a given skill
      operationId: GetOccupationsForSkill
      requestBody:
        description: enter esco skill uri to retrieve all Occupations for the Skill
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/requestBody'
            example:   # Sample object
                "skill": "http://data.europa.eu/esco/skill/68698869-c13c-4563-adc7-118b7644f45d"
        required: true
      responses:
        200:
          description: successful operation
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/responseBody'
        204:
          description: No content can be found.
          content: {}
        400:
          description: Missing data from body or parameters have not been supplied for query.
          content: {}
        422:
          description: Unprocessable Entity - Unable to read/deserialize data.
          content: {}
        500:
          description: Missing App Settings or Config Files.
          content: {}
components:
  schemas:
    requestBody: 
      required:
      - skill
      type: "object"
      properties:
        skill: 
          type: string
          example: http://data.europa.eu/esco/skill/68698869-c13c-4563-adc7-118b7644f45d
    responseBody:
      type: object
      properties:
        uri:
          type: string
          example: http://data.europa.eu/esco/occupation/89db623e-e1fc-4ec2-9a0f-7b72b4c35303
        occupation:
          type: string
          example: News Reader
        alternativeLabels:
          type: array
          items: 
            type: string
            example: anchorman          
        lastModified:
          type: string
          example: 2017-01-17T14:18:17Z 
        skills:
          type: array
          items:
            type: object
            properties:
              uri:
                type: string
                example: http://data.europa.eu/esco/skill/89db623e-e1fc-4ec2-9a0f-7b72b4c35303
              skill:
                type: string
                example: gather experimental data
              type:
                type: string
                enum: [knowledge, competency]
                example: knowledge
              alternativeLabels:
                type: array
                items: 
                  type: string
                  example: accumulate experimental data
              skillReusability:
                type: string
                enum: [transversal, cross-sectoral, sector-specific, occupation-specific]
                example: transveral
              lastModified:
                type: string
                example: 2017-01-17T14:18:17Z
              relationshipType:
                type: string
                enum: [essential, optional]
                example: essential
            required:
              - uri
              - skill
              - type
              - alternativeLabels
              - skillReusability
              - lastModified
              - relationshipType  
      required:
        - uri
        - occupation
        - lastModified
